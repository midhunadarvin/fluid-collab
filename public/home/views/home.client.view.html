
<section class="fill_height" layout="row" flex="" ng-init="dashboardInit()">

    <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
     <md-toolbar class="md-theme-indigo">
        <h1 class="md-toolbar-tools">Sidenav Left</h1>
        <h3 class="md-toolbar-tools">{{user.firstName}}</h3>
      </md-toolbar>
      <md-content layout-padding="">
        <md-button ng-click="close()" class="md-primary" hide-gt-md="">
          Close Sidenav Left
        </md-button>
        <md-list>
            <md-list-item ng-repeat="item in menu">
              <md-item-content md-ink-ripple layout="row" layout-align="start center">
               
                <div class="inset">
                  <ng-md-icon icon="{{item.icon}}"></ng-md-icon>
                </div>
                <div class="inset">{{item.title}}</div>
                
              </md-item-content>
            </md-list-item>
         </md-list>
      </md-content>
    </md-sidenav>
   

    <md-button class="md-fab md-fab-bottom-right" aria-label="Add" ng-click="showAddDialog($event)">
        <ng-md-icon icon="add"></ng-md-icon>
    </md-button>

    <!-- <div ng-include="'/home/views/home.client.toolbar.html'" ></div> -->
    <div class="wrap" layout="column">

    	<toolbar></toolbar>

      <section ng-controller="ProjectsController">
      <div data-ng-show="!authentication.user">
        <!-- <a href="/signup">Signup</a>
        <a href="/signin">Signin</a> -->
      </div>
      <div data-ng-show="authentication.user">
        <h1>Hello <span ng-bind="authentication.user.fullName"></span></h1>
          <a href="/signout">Signout</a>
          <ul>
          <li><a href="/#!/projects">List Projects</a></li>
          <li><a href="/#!/projects/create">Create Project</a></li>
          </ul>
        </div>
      </section>
    
	    <md-content class="background-grey" flex="100" md-scroll-y>
          <ui-view layout="column" layout-fill layout-padding>
          <div class="inset" hide-sm></div>
            <ng-switch on="data.selectedIndex" class="tabpanel-container">
              <div role="tabpanel"
                   id="tab1-content"
                   aria-labelledby="tab1"
                   ng-switch-when="0"
                   md-swipe-left="next()"
                   md-swipe-right="previous()"
                   layout="column" layout-align="center center">

                  <md-card class="fill_width" ng-repeat="project in projects | filter:search">
                      <md-card-title>
                        <md-card-title-text>
                          <span class="md-headline">{{project.title}}</span>
                          <span class="md-subhead">Client : {{project.client}}</span>
                        </md-card-title-text>
                        <md-card-title-media>
                          <div class="md-media-lg card-media"></div>
                        </md-card-title-media>
                      </md-card-title>
                      <md-card-actions layout="row" layout-align="end center" ng-show="user._id == project.creator._id">
                        <md-button><a href="/#!/projects/{{project._id}}/edit">edit</a></md-button>
                        <md-button><a href="#" ng-click="deleteProject();">delete</a></md-button>
                      </md-card-actions>
                  </md-card> 

                <!--   <md-card flex flex-gt-sm="90" flex-gt-md="80">
                    <md-card-content>
                      <h2>Projects</h2>
                      <md-list>
                        <md-list-item ng-repeat="project in projects | filter:search">
                          <md-item-content layout="row">
                            <div class="md-tile-left inset" layout="column" layout-align="center">
                                <user-avatar></user-avatar>
                            </div>
                            <div class="md-tile-content" layout="column" flex>
                              <h3>{{project.title}}</h3>
                              <h4>Client : {{project.client}}</h4>
                              <p>
                                Leader : {{project.leader}}
                              </p>
                            </div>
                            <div class="md-tile-content" layout="column" ng-show="user._id == project.creator._id">
                                <a href="/#!/projects/{{project._id}}/edit">edit</a>
                                <a href="#" ng-click="delete();">delete</a>
                            </div>

                          </md-item-content>
                          <md-divider md-inset hide-sm ng-if="!$last"></md-divider>
                          <md-divider hide-gt-sm ng-if="!$last"></md-divider>
                        </md-list-item>
                        <md-divider></md-divider>
                        <md-list-item layout class="inset">
                            <md-button layout layout-align="start center" flex class="md-primary">
                               More
                            </md-button>
                        </md-list-item>
                      </md-list>
                    </md-card-content>
                  </md-card>
              </div>
              <div role="tabpanel"
                   id="tab2-content"
                   aria-labelledby="tab2"
                   ng-switch-when="1"
                   md-swipe-left="next()"
                   md-swipe-right="previous()" 
                   layout="row" layout-align="center center">
                  <md-card flex flex-gt-sm="90" flex-gt-md="80">
                    <md-card-content>
                      <h2>Favorites</h2>
                      <md-list>
                        <md-list-item ng-repeat="project in projects | filter:search | orderBy:'-name'">
                           <md-item-content layout="row">
                            <div class="md-tile-left inset" hide-sm layout="column" layout-align="center">
                                <user-avatar></user-avatar>
                            </div>
                            <div class="md-tile-content" layout="column" flex>
                              <h3>{{project.title}}</h3>
                              <h4>Client : {{project.client}}</h4>
                              <p>
                                Leader : {{project.leader}}
                              </p>
                            </div>
                          </md-item-content>
                          <md-divider md-inset hide-sm ng-if="!$last"></md-divider>
                          <md-divider hide-gt-sm ng-if="!$last"></md-divider>
                        </md-list-item>
                        <md-divider></md-divider>
                        <md-list-item layout class="inset">
                            <md-button layout layout-align="start center" flex class="md-primary">
                              More
                            </md-button>
                        </md-list-item>
                      </md-list> 
                    </md-card-content>
                  </md-card> -->
              </div>
              
          </ng-switch>
          
        </ui-view>
	    </md-content>

	</div>
</section>
